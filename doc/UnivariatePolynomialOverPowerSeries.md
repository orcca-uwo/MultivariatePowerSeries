##ENCODING ISO-8859-1
##PROCEDURE(help,nospec,label="MultivariatePowerSeries/UnivariatePolynomialOverPowerSeries",versionnew="{XENOMORPH}",versionupdated="{ZONKEY}") MultivariatePowerSeries[UnivariatePolynomialOverPowerSeries]
##TITLE(halfline="create a univariate polynomial over power series or Puiseux series")
##    MultivariatePowerSeries[UnivariatePolynomialOverPowerSeries]
##ALIAS UnivariatePolynomialOverPowerSeries, MultivariatePowerSeries:-UnivariatePolynomialOverPowerSeries, MultivariatePowerSeries
##AUTHOR Ali Asadi masadi4@uwo.ca, Alex Brandt abrandt5@uwo.ca, Marc Moreno Maza moreno@csd.uwo.ca
##
##CALLINGSEQUENCE
##-  UnivariatePolynomialOverPowerSeries('lp', 'v')
##-  UnivariatePolynomialOverPowerSeries('p', 'v')
##-  UnivariatePolynomialOverPowerSeries('r', 'v')
##-  UnivariatePolynomialOverPowerSeries('ps', 'v')
##-  UnivariatePolynomialOverPowerSeries('u')
##-  UnivariatePolynomialOverPowerSeries('u', 'v')
##
##PARAMETERS
##- 'lp' : list, Array, or Vector of power series or Puiseux series generated by this package
##- 'v' : variable 
##- 'p' : polynomial
##-(versionnew="{YETI}") 'r' : rational function where 'v' doesn't occur in the denominator
##- 'ps' : power series generated by this package
##- 'u' : univariate polynomial over power series generated by this package
##
##DESCRIPTION
##- The calling sequence ~UnivariatePolynomialOverPowerSeries(lp, v)~ creates a univariate
##  polynomial over power series with main variable 'v' and with coefficients that are
##  power series or Puiseux series from 'lp'.
##  The degree of the resulting polynomial
##  is equal to the length of 'lp' minus one. The coefficient of ~v^(i-1)~ is the 'i'-th element of 'lp'. In particular, the
##  first element of 'lp' is the constant coefficient. The main variable, 'v', cannot occur in any
##  of the power series in 'lp'.
##- The calling sequences ~UnivariatePolynomialOverPowerSeries(p, v)~ and
##  ~UnivariatePolynomialOverPowerSeries(r, v)~ create univariate polynomials with power series or Puiseux series
##  coefficients. The former returns the same result as ~UnivariatePolynomialOverPowerSeries(lp, v)~
##  where ~lp := [seq(PowerSeries(coeff(p,v,i)),i=0..degree(p,v))]~ or 
##	~lp := [seq(PowerSeries(coeff(p,v,i)),i=0..degree(p,v))]~. For the latter, 'r' is a
##  rational function where 'v' only occurs in the numerator; that is, it is a polynomial in
##  'v'. Hence, the 'i'th coefficient of 'r' with respect to 'v' is well-defined, and indeed we can
##  define the result very similarly: that calling sequence returns the same result as
##  ~UnivariatePolynomialOverPowerSeries(lp, v)~ where ~lp :=
##  [seq(PowerSeries(coeff(r,v,i)),i=0..degree(r,v))]~ 
##	or ~lp := [seq(PowerSeries(coeff(p,v,i)),i=0..degree(p,v))]~.
##- The calling sequence ~UnivariatePolynomialOverPowerSeries(ps, v)~ creates a univariate polynomial
##  over power series representing 'ps', with 'v' as its main variable. This is only possible if
##  'ps' is known to be a polynomial function of 'v', which is the case if it is independent of 'v'
##  (in which case it is trivially polynomial) or if the analytic expression for 'ps' is known and
##  it is polynomial in 'v'. If neither of the former two cases is true, then an error is raised.
##- The calling sequence ~UnivariatePolynomialOverPowerSeries(u, v)~ copies 'u'. You may omit 'v' in
##  this case, but if you specify it, it must be equal to the main variable of 'u'.
##
##INCLUDE assignment_warning.mi
##
##EXAMPLES
##> with(MultivariatePowerSeries):
##-(lead=indent) Create a univariate polynomial over power series from a list of power series.
##> f := UnivariatePolynomialOverPowerSeries([PowerSeries(1), PowerSeries(0), PowerSeries(x), PowerSeries(y), 1/PowerSeries(1+x+y)], z);
##<(verification="type") object
##> Degree(f);
##< 4
##> [seq(GetCoefficient(f,i),i=0..4)];
##<(verification="type") [object $ 5]
##- We compute its linear and quadratic truncation. These are defined in terms of the homogeneous
##  degree of the coefficients, ignoring the degree in the main variable.
##> Truncate(f, 1);
##< 1 + x*z^2 + y*z^3 + (1 - x - y)*z^4
##> Truncate(f, 2);
##< 1 + x*z^2 + y*z^3 + (1 - x - y + x^2+2*x*y+y^2)*z^4
##-(lead=indent) Create a univariate polynomial over power series from a polynomial and a rational function.
##> p := (z-1)*(z-2)*(z-3) + x * (z^2 + z);
##> UnivariatePolynomialOverPowerSeries(p,z);
##<(verification="type") object
##> r := p/(x + y - 1) + 1;
##> UnivariatePolynomialOverPowerSeries(r,z);
##<(verification="type") object
##- Notice that the following example returns a univariate polynomial with 
## Puiseux series as coefficients.
##> p := (1+x^2*z+z^2)/(x^2+x);
##> h := UnivariatePolynomialOverPowerSeries(p,z);
##<(verification="type") object
##> [seq(GetCoefficient(h,i),i=0..2)];
##- This happens since the polynomial 'x^2+x' is not invertible as a 
## 	power series, but it is as a Puiseux series. 
##- The following attempt will not work, because Maple cannot determine that 'd' is polynomial in
##  'z' (though actually it is).
##> d := PowerSeries(d -> ifelse(d = 0, 0, z * x^(d-1)/(d-1)!), variables = {x, z});
##<(verification="type") object
##> UnivariatePolynomialOverPowerSeries(d, z);
##<(verification="testerror") "attempted to convert"
##- We define 'e' in the same way as 'd' but specify the analytic expression. Then we can
##  successfully convert it to a univariate polynomial over power series.
##> e := PowerSeries(d -> ifelse(d = 0, 0, z * x^(d-1)/(d-1)!), analytic = z * exp(x));
##<(verification="type") object
##> k := UnivariatePolynomialOverPowerSeries(e, z);
##<(verification="type") object
##-(lead=indent) To copy 'k', we can specify the main variable explicitly or omit it. If we specify
##  it explicitly, it has to be 'z', otherwise we obtain an error:
##> k1 := UnivariatePolynomialOverPowerSeries(k, x);
##<(verification="testerror") "you specified x as the main variable"
##> k1 := UnivariatePolynomialOverPowerSeries(k, z);
##<(verification="type") object
##> k2 := UnivariatePolynomialOverPowerSeries(k);
##<(verification="type") object
##>(nohelp) Truncate(k - k1, 50);
##< 0
##>(nohelp) Truncate(k - k2, 50);
##< 0
##-(lead=indent) Create a univariate polynomial over power series from a list of Puiseux series.
##> g := UnivariatePolynomialOverPowerSeries([PuiseuxSeries(1), PuiseuxSeries(0), PuiseuxSeries(x, [x=x^(1/3)]), PuiseuxSeries(y, [y=y^(1/2)]), PuiseuxSeries((x+y)/(1+x+y), [x=x*y^(1/2),y=x*y^(-1)])], z);
##<(verification="type") object
##> Degree(g);
##< 4
##> [seq(GetCoefficient(g,i),i=0..4)];
##<(verification="type") [object $ 5]
##- We compute its linear and quadratic truncation. These are defined in terms of the homogeneous
##  degree of the coefficients, ignoring the degree in the main variable.
##> Truncate(g, 1);
##< 1+x^(1/3)*z^2+y^(1/2)*z^3+(x*y^(1/2)+x/y)*z^4
##> Truncate(g, 2);
##< 1+x^(1/3)*z^2+y^(1/2)*z^3+(-x^2*y-2*x^2/y^(1/2)-x^2/y^2+x*y^(1/2)+x/y)*z^4
##
##SEEALSO
##- "PowerSeries"
##- "PuiseuxSeries"
##- "Inverse"
##- "Degree"
##- "Truncate"
##- "ApproximatelyEqual"
##
##XREFMAP
##- PowerSeries : MultivariatePowerSeries[PowerSeries]
##- PuiseuxSeries : MultivariatePowerSeries[PuiseuxSeries]
##- Inverse : MultivariatePowerSeries[Inverse]
##- Degree : MultivariatePowerSeries[Degree]
##- Truncate : MultivariatePowerSeries[Truncate]
##- ApproximatelyEqual : MultivariatePowerSeries[ApproximatelyEqual]
